# CLAUDE.md - {{MODULE_NAME}}

This file provides guidance to Claude Code when working with this module.

## Module Overview

**Bounded Context**: {{BOUNDED_CONTEXT}}
**Module Path**: `github.com/e7canasta/orion-care-sensor/modules/{{MODULE_DIR}}`
**Version**: v0.1.0
**Sprint**: {{SPRINT_NUMBER}}

---

## üìã Responsibility

**What this module DOES**:
- ‚úÖ {{RESPONSIBILITY_1}}
- ‚úÖ {{RESPONSIBILITY_2}}
- ‚úÖ {{RESPONSIBILITY_3}}

---

## üö´ Anti-Responsibility

**What this module DOES NOT do**:
- ‚ùå {{ANTI_RESPONSIBILITY_1}}
- ‚ùå {{ANTI_RESPONSIBILITY_2}}
- ‚ùå {{ANTI_RESPONSIBILITY_3}}

---

## üîå Public API

### Interfaces

```go
// {{MODULE_DIR}}/{{MAIN_INTERFACE_FILE}}.go
package {{PACKAGE_NAME}}

type {{MAIN_INTERFACE}} interface {
    {{INTERFACE_METHODS}}
}
```

### Types

```go
// {{MODULE_DIR}}/types.go
package {{PACKAGE_NAME}}

type {{MAIN_TYPE}} struct {
    {{TYPE_FIELDS}}
}
```

---

## üèóÔ∏è Internal Structure

```
modules/{{MODULE_DIR}}/
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ CLAUDE.md                  # This file
‚îú‚îÄ‚îÄ README.md                  # User-facing overview
‚îú‚îÄ‚îÄ BACKLOG.md                 # Sprint-specific tasks
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ DESIGN.md              # Architectural decisions
‚îÇ   ‚îî‚îÄ‚îÄ proposals/             # RFCs before implementation
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ {{INTERNAL_PACKAGE_1}}/
‚îÇ   ‚îî‚îÄ‚îÄ {{INTERNAL_PACKAGE_2}}/
‚îú‚îÄ‚îÄ {{PUBLIC_API_FILE}}.go     # Public interface
‚îú‚îÄ‚îÄ {{IMPLEMENTATION_FILE}}.go # Implementation
‚îú‚îÄ‚îÄ types.go                   # Exported types
‚îî‚îÄ‚îÄ {{MODULE_DIR}}_test.go     # Tests
```

---

## üì¶ Dependencies

### Internal Packages

- `internal/{{INTERNAL_PACKAGE_1}}` - {{INTERNAL_DESCRIPTION_1}}
- `internal/{{INTERNAL_PACKAGE_2}}` - {{INTERNAL_DESCRIPTION_2}}

### External Modules

{{#if HAS_EXTERNAL_DEPS}}
- `{{EXTERNAL_MODULE_1}}` - {{EXTERNAL_MODULE_1_PURPOSE}}
- `{{EXTERNAL_MODULE_2}}` - {{EXTERNAL_MODULE_2_PURPOSE}}
{{else}}
None (leaf module)
{{/if}}

### Workspace Modules

{{#if HAS_WORKSPACE_DEPS}}
- `github.com/e7canasta/orion-care-sensor/modules/{{WORKSPACE_DEP_1}}` - {{WORKSPACE_DEP_1_PURPOSE}}
{{else}}
None (independent module)
{{/if}}

---

## ‚öôÔ∏è Configuration

### Config Structure

```yaml
# Reads from workspace-level config/orion.yaml
{{CONFIG_SECTION}}:
  {{CONFIG_KEY_1}}: {{CONFIG_VALUE_1}}
  {{CONFIG_KEY_2}}: {{CONFIG_VALUE_2}}
```

### Environment Variables

{{#if HAS_ENV_VARS}}
- `{{ENV_VAR_1}}` - {{ENV_VAR_1_DESCRIPTION}}
- `{{ENV_VAR_2}}` - {{ENV_VAR_2_DESCRIPTION}}
{{else}}
None (uses workspace config only)
{{/if}}

---

## üß™ Testing

### Unit Tests

```bash
# Run module-specific tests
cd modules/{{MODULE_DIR}}
go test ./...

# Run with coverage
go test -cover ./...

# Run with race detector
go test -race ./...
```

### Integration Tests

{{#if HAS_INTEGRATION_TESTS}}
```bash
# Integration tests (requires external dependencies)
go test -tags=integration ./...
```
{{else}}
_To be implemented in {{SPRINT_NUMBER}}_
{{/if}}

### Test Organization

- Unit tests: `{{MODULE_DIR}}_test.go`, `internal/*/..._test.go`
- Integration tests: `integration_test.go` (tag: `integration`)
- Mocks: `internal/mocks/` (if needed)

---

## üîß Development Workflow

### Before Coding

1. ‚úÖ Read workspace `CLAUDE.md` + this module's `CLAUDE.md`
2. ‚úÖ Review `BACKLOG.md` for sprint-specific tasks
3. ‚úÖ Check `docs/DESIGN.md` for architectural decisions
4. ‚úÖ Understand bounded context boundaries

### During Development

1. ‚úÖ Preserve public API (breaking changes require ADR)
2. ‚úÖ Keep `internal/` truly internal (implementation details)
3. ‚úÖ Update tests alongside code
4. ‚úÖ Compile frequently: `go build ./...`

### After Coding

1. ‚úÖ Run tests: `go test ./...`
2. ‚úÖ Update `BACKLOG.md` with lessons learned
3. ‚úÖ Update `docs/DESIGN.md` if architecture changed
4. ‚úÖ Create ADR if significant decision made

---

## üìö Backlog

See [BACKLOG.md](BACKLOG.md) for {{SPRINT_NUMBER}} specific tasks.

---

## üéØ Design Decisions

See [docs/DESIGN.md](docs/DESIGN.md) for architectural decisions specific to this module.

For workspace-level ADRs, see [../../docs/DESIGN/ADR/](../../docs/DESIGN/ADR/).

---

## üîó References

### Workspace Documentation

- [C4 Model](../../docs/DESIGN/C4_MODEL.md#{{C4_SECTION}})
- [Plan Evolutivo](../../docs/DESIGN/ORION_2.0_PLAN_EVOLUTIVO.md#{{SPRINT_SECTION}})
- [Workspace CLAUDE.md](../../CLAUDE.md)

### Module-Specific

- [README.md](README.md) - User-facing overview
- [BACKLOG.md](BACKLOG.md) - Sprint tasks
- [docs/DESIGN.md](docs/DESIGN.md) - Design decisions

---

## üé∏ Philosophy

**Bounded Context Enforcement**:
- This module is responsible ONLY for {{BOUNDED_CONTEXT}}
- Anti-responsibilities are as important as responsibilities
- Public API is contract, `internal/` is implementation

**Complejidad por Dise√±o**:
- Attack complexity through architecture, not code tricks
- Keep `internal/` packages focused (SRP)
- Document architectural decisions (ADR style)

**KISS Auto-Recovery**:
- Fail fast at load time, not runtime
- Simple error handling (no panic recovery unless explicit)
- Log errors, continue processing (graceful degradation)

---

**Last updated**: {{DATE}}
**Authors**: Ernesto (Visiona) + Gaby (AI Companion)
